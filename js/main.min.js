function t(){var e=$(".works-item").outerWidth(!0),t=$(".works-item").length,n=e-$(".works-item").outerWidth(),i=($(document).width()-$(".container").width())/2,o=e*t-n;return $(".section-works__slider").css({width:o+2*i+"px",paddingLeft:i+"px",paddingRight:i+"px"}),o-$(".container").width()}function getCoords(e){var t=e.getBoundingClientRect();return{top:t.top+pageYOffset,left:t.left+pageXOffset}}!function(e){window.anchor={settings:{transitionDuration:2e3,transitionTimingFunction:"swing",labels:{error:"Couldn't find any section"}},init:function(t){return e(this).data("settings",e.extend(anchor.settings,t)),this.each(function(){var t=e(this);t.unbind("click").click(function(e){e.preventDefault(),anchor.jumpTo(anchor.getTopOffsetPosition(t),t.data("settings"))})})},getTopOffsetPosition:function(t){var n=t.attr("href"),i=e(e(n).get(0)),o=e(document).height(),s=e(window).height();if(!i||i.length<1)throw new ReferenceError(anchor.settings.labels.error);return i.offset().top+s>o?o-s:i.offset().top},jumpTo:function(t,n){var i=e("html, body");i.animate({scrollTop:t-80},n.transitionDuration,n.transitionTimingFunction),i.bind("scroll mousedown DOMMouseScroll mousewheel keyup",function(e){(e.which>0||"mousedown"===e.type||"mousewheel"===e.type)&&i.stop().unbind("scroll mousedown DOMMouseScroll mousewheel keyup")})}},e.fn.anchor=function(t){return anchor[t]?anchor[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?e.error("Method "+t+" does not exist on jQuery.anchor"):anchor.init.apply(this,arguments)}}(jQuery),$(document).ready(function(){var e={element:document.querySelector(".section-works__scroll"),top:getCoords(document.querySelector(".section-works__scroll")).top,scrollLeft:0,maxOffset:t(),end:!1,start:!0};$("a[data-anchor]").anchor({transitionDuration:1e3}),$("[data-fancybox]").fancybox({margin:[0,0]}),new PerfectScrollbar(".section-works__scroll",{suppressScrollY:!0,handlers:["click-rail","drag-thumb","touch"]}),e.element.addEventListener("ps-x-reach-end",function(){e.end=!0,console.log("ps-x-reach-end")}),e.element.addEventListener("ps-x-reach-start",function(){e.start=!0,console.log("ps-x-reach-start")});var n=document.documentElement.clientHeight,i=document.documentElement.clientWidth;document.querySelector(".section-hero").addEventListener("mousemove",function(e){var t=2*e.clientX/i-1,o=2*e.clientY/n-1;document.querySelector(".section-hero__circle-1").style.transform="translate("+c1*t+"px, "+c1*o+"px)",document.querySelector(".section-hero__circle-2").style.transform="translate("+c2*t+"px, "+c2*o+"px)"});var o=document.querySelector(".header"),s=getCoords(o);document.addEventListener("scroll",function(){window.pageYOffset>s.top?o.classList.add("fixed"):o.classList.remove("fixed")}),e.element.addEventListener("wheel",function(t){var i=t.deltaY,o=e.element.getBoundingClientRect();o=o.top+o.height/2,i>=0?o<n/2+100&&(e.end||(e.start=!1,t.preventDefault(),e.element.scrollLeft+=i)):o>n/2-100&&(e.start||(e.end=!1,t.preventDefault(),e.element.scrollLeft+=i))}),$(".menu-btn").click(function(){$(".menu").addClass("open"),$("body").css("overflow","hidden")}),$(".menu__btn-close").add(".menu__link").click(function(){$(".menu").removeClass("open"),$("body").css("overflow","")}),$(".file-upload").each(function(e,t){var n=$(t),i=n.find(".file-upload__input"),o=n.find(".file-upload__btn"),s=n.find(".file-upload__note");o.add(s).click(function(){i.click()});var r=!!(window.File&&window.FileReader&&window.FileList&&window.Blob);i.change(function(){var e;e=r&&i[0].files[0]?i[0].files[0].name:i.val().replace("C:\\fakepath\\","");if(i[0].files[0].size>MAX_FILE_SIZE)return s.text("The file is too big!"),s.removeClass("success"),s.addClass("error"),void i.val("");e.length&&(s.is(":visible")?(s.text(e),s.removeClass("error"),s.addClass("success")):o.text(e))})}),$('[type="submit"]').click(function(e){e.preventDefault();var t=$(this).parents("form"),n=!0;if(t.find(".input-container__input").each(function(e,t){t.checkValidity()||($(t).siblings(".input-container__label").addClass("active"),t.classList.add("error"),t.value=t.getAttribute("data-msg"),n=!1)}),n){var i=new FormData(t[0]),o=new XMLHttpRequest;o.open("POST",url),o.onreadystatechange=function(){if(4==o.readyState)if(200!=o.status)alert(o.status+": "+o.statusText);else{var e=t.find("input[data-name]").val(),n=t.siblings(".form-bg");n.find(".form-bg__title").text("Thank you, "+e+"!"),t.css("opacity","0"),n.css("opacity","1")}},o.send(i)}}),$(".input-container__input").focus(function(){$(this).siblings(".input-container__label").addClass("active"),this.classList.contains("error")&&(this.classList.remove("error"),this.value="")}).blur(function(){""!=this.value?this.checkValidity()?this.classList.add("success"):(this.classList.add("error"),this.value=this.getAttribute("data-msg")):($(this).siblings(".input-container__label").removeClass("active"),this.classList.remove("success"))}),i<990&&$(".input-container__input").css("padding-left","")});